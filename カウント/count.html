<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width", initial-scale=1">
<script src="jquery-3.5.1.min.js"></script>
	<script src="https://unpkg.com/obniz@3.9.0/obniz.js"></script>
    <script type="text/javascript">
	var ob = "1392-7833";
    var obniz1 = new Obniz( ob );  //自分のobnizの番号に書き換えて下さい
    var obniz2 = new Obniz("7463-4755");  //自分のobnizの番号に書き換えて下さい

	window.onload = function(){
    /*  ②ここに必要な変数宣言を書きます  */
	let eat = [ { name: '水', kazu: "水.ka", ryou: '水.ryo'},
				{ name: '缶詰パン', kazu: '缶詰パン.ka', ryou: '缶詰パン.ryo'},
				{ name: '缶詰', kazu: '缶詰.ka', ryou: '缶詰.ryo'},
				{ name: 'インスタント麺', kazu: 'インスタント麺.ka', ryou: 'インスタント麺.ryo'},
				{ name: 'おかゆ', kazu: 'おかゆ.ka', ryou: 'おかゆ.ryo'},
				{ name: 'クラッカー', kazu: 'クラッカー.ka', ryou: 'クラッカー.ryo'},
				{ name: 'スープ', kazu: 'スープ.ka', ryou: 'スープ.ryo'},
				{ name: '高齢者おむつ', kazu: '高齢者おむつ.ka', ryou: '高齢者おむつ.ryo'},
				{ name: '乳幼児用紙おむつ・紙パンツ', kazu: '乳幼児用紙おむつ・紙パンツ.ka', ryou: '乳幼児用紙おむつ・紙パンツ.ryo'},
				{ name: 'トイレパック', kazu: 'トイレパック.ka', ryou: 'トイレパック.ryo'},
				{ name: 'トイレットペーパー', kazu: 'トイレットペーパー.ka', ryou: 'トイレットペーパー.ryo'},
				{ name: '生理用品', kazu: '生理用品.ka', ryou: '生理用品.ryo'},
				{ name: '粉ミルク', kazu: '粉ミルク.ka', ryou: '粉ミルク.ryo'},
 ];
	var n = 0;

		obniz1.onconnect = async function () {
			var hcsr041 = obniz1.wired("HC-SR04", {gnd:0, echo:1, trigger:2, vcc:3});
			var water = document.getElementById("水.ka");
			var waterryo = document.getElementById("水.ryo");
			hcsr041.measure(function( distance1 ){
			console.log(distance1);
			distance1 = (1000 - distance1) / 220;
			distance1 = Math.floor(distance1);
    	    water.textContent = distance1 * waterryo.value ;  //距離をページ内に表示
		})
		}

    }
    </script>
	<style>
	  td{
		width : 40px;
		text-align : center;
      }
	</style>
</head>
<body>
  <h1>現在の物資量</h1>
<table id="syoku" border="1" width="500" id="syoku">
<tr><th>物資名</th><th>保存量</th><th>1箱の数</th></tr>
<tr><th class="button" data-id="水">水</th>
	<td id="水.ka">0</td>
	<td><input type="number" value="10" id="水.ryo"></td>
</tr>
<tr><th class="button" data-id="缶詰パン">缶詰パン</th>
	<td id="缶詰パン.ka">0</td>
	<td><input type="number" value="0" id="缶詰パン.ryo"></td>
</tr>
<tr><th class="button" data-id="缶詰">缶詰</th>
	<td id="缶詰.ka">0</td>
	<td><input type="number" value="0" id="缶詰.ryo"></td>
</tr>
<tr><th class="button" data-id="インスタント麺">インスタント麺</th>
	<td id="インスタント麺.ka">0</td>
	<td><input type="number" value="0" id="インスタント麺.ryo"></td>
</tr>
<tr><th class="button" data-id="おかゆ">おかゆ</th>
	<td id="おかゆ.ka">0</td>
	<td><input type="number" value="0" id="おかゆ.ryo"></td>
</tr>
<tr><th class="button" data-id="クラッカー">クラッカー</th>
	<td id="クラッカー.ka">0</td>
	<td><input type="number" value="0" id="クラッカー.ryo"></td>
</tr>
<tr><th class="button" data-id="スープ">スープ</th>
	<td id="スープ.ka">0</td>
	<td><input type="number" value="0" id="スープ.ryo"></td>
</tr>
<tr><th class="button" data-id="高齢者おむつ">高齢者用おむつ</th>
	<td id="高齢者おむつ.ka">0</td>
	<td><input type="number" value="0" id="高齢者おむつ.ryo"></td>
</tr>
<tr><th class="button" data-id="乳幼児用紙おむつ・紙パンツ">乳幼児用紙おむつ・紙パンツ</th>
	<td id="乳幼児用紙おむつ・紙パンツ.ka">0</td>
	<td><input type="number" value="0" id="乳幼児用紙おむつ・紙パンツ.ryo"></td>
</tr>
<tr><th class="button" data-id="粉ミルク">粉ミルク</th>
	<td id="粉ミルク.ka">0</td>
	<td><input type="number" value="0" id="粉ミルク.ryo"></td>
</tr>
<tr><th id="トイレパック">トイレパック</th>
	<td id="トイレパック.ka">0</td>
	<td><input type="number" value="0" id="トイレパック.ryo"></td>
</tr>
<tr><th id="トイレットペーパー">トイレットペーパー</th>
	<td id="トイレットペーパー.ka">0</td>
	<td><input type="number" value="0" id="トイレットペーパー.ryo"></td>
</tr>
<tr><th id="生理用品">生理用品</th>
	<td id="生理用品.ka">0</td>
	<td><input type="number" value="0" id="生理用品.ryo"></td>
</tr>

</table>
<p>
<button id="keisoku">計測</button>
</p>
<p>
<input type="text" value='ooo'>
</p>
</body>
</html>


